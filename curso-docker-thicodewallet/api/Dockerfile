
# IMG DE ORIGEM - NESSE EXEMPLO IREMOS USAR A ULTIMA VERSÃO DO NODE JS
FROM node:latest

# DIRETORIO DE TRABALHO, AQUI PODEMOS COLOCAR O NOME QUE QUISERMOS PARA NOSSO PROJETO - ESSA NOTAÇÃO /api SIGNIFICA QUE A PASTA FICARA NA RAIZ DO SISTEMA
WORKDIR /api

# ESSE COPY ABAIXO, E NELE QUE IREMOS INFORMAR O LOCAL DE ONDE O DOCKER DEVE COPIAR OS AQUIVOS PARA COLOCAR NA PASTA EM WORKDIR ACIMA
# COPY . . SIGNIFICA PARA COPIAR TUDO QUE ESTA NA MESMA PARA ONDE ESTAR ESSE DOCKERFILE
# RESUMO - IREMOS COPIAR TODA A PASTA API PARA DENTRO DA PASTA WORKDIR /API
COPY . .

# ABAIXO TEMOS 2 COMANDO O 1º APAGA A PASTA NODE_MODULES O 2º BAIXA ELA NOVAMENTE, MAIS DE ACORDO COM A VERSÃO DO NODE DEFINDA EM - FROM NODE:LATEST
RUN rm -rf node_modules
RUN npm i

# ESSE COMANDO E RESPONSAVEL POR COLOCAR A APLICAÇÃO NO AR
# ELE E EXECUTADO NO EXATO MOMENTO EM QUE O CANTAINER E INICIADO OU CRIADO
CMD ["npm", "start"]

# ABAIXO TEMOS A PORTA EM QUE NOSSA APLICAÇÃO SERA EXPOSTA
EXPOSE 5002 